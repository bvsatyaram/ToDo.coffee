// Generated by CoffeeScript 1.4.0
var TasksController;

TasksController = {
  init: function() {
    this.tasks = [];
    this.taskTemplate = $('#task-template').html();
    return Mustache.parse(this.taskTemplate);
  },
  add: function(title) {
    var taskCounter;
    taskCounter = this.tasks.length + 1;
    if ($.trim(title)) {
      this.tasks.push({
        title: title,
        done: false,
        counter: taskCounter
      });
      return $('ul#tasks').append(this.taskTag(title, taskCounter));
    }
  },
  taskTag: function(title, taskCounter) {
    return Mustache.render(this.taskTemplate, {
      title: title,
      taskCounter: taskCounter
    });
  }
};

$(function() {
  TasksController.init();
  return $('#new-task').submit(function(ev) {
    ev.preventDefault();
    TasksController.add($(this).find('input').val());
    this.reset();
    return false;
  });
});
